[gd_scene load_steps=26 format=3 uid="uid://djpruf2ij658q"]

[ext_resource type="PackedScene" uid="uid://de6n0n215fpr5" path="res://Scenes/Camera/GameCamera.tscn" id="1_853f1"]
[ext_resource type="Texture2D" uid="uid://dhojn25qmrh3b" path="res://Texture/Grid Floor.png" id="2_8um5k"]
[ext_resource type="Script" uid="uid://cmle6ikn6jue1" path="res://Script/MainMenu/MainMenuCameraController.cs" id="2_koqhg"]
[ext_resource type="PackedScene" uid="uid://pmklrr8m83es" path="res://3D/Models/CarFrame1.gltf" id="3_riqfo"]
[ext_resource type="Script" uid="uid://cujwqas1amatl" path="res://Script/MainMenu/GentleWobble.cs" id="4_ghw46"]
[ext_resource type="PackedScene" uid="uid://ctbhh7ga8tyfp" path="res://3D/Models/CarFrame2.gltf" id="4_yxkem"]
[ext_resource type="PackedScene" uid="uid://ccee5u0vrhm32" path="res://3D/Models/CarFrame3.gltf" id="5_7v4os"]
[ext_resource type="Texture2D" uid="uid://bajwttt51timw" path="res://Texture/LightspeedLoop_Logo.PNG" id="5_df05h"]
[ext_resource type="Script" uid="uid://b5eenasigq4ia" path="res://Script/MainMenu/Screens/MainMenuTitleDisplay.cs" id="5_xim88"]
[ext_resource type="FontFile" uid="uid://c434xdyo2rbtv" path="res://Fonts/abduction2002.ttf" id="6_8um5k"]
[ext_resource type="Script" uid="uid://jjc2vxsw51q4" path="res://Script/MainMenu/MainMenuControl.cs" id="6_cmrfp"]
[ext_resource type="PackedScene" uid="uid://dkuiqab77qwkj" path="res://3D/Models/CarFrame4.gltf" id="6_pjscj"]
[ext_resource type="PackedScene" uid="uid://d1wxxqtmw3dvn" path="res://3D/Models/CarFrame5.gltf" id="7_m7n2d"]
[ext_resource type="Script" uid="uid://ck60eum4nuv7n" path="res://Script/MainMenu/Screens/MainMenuMainMenuDisplay.cs" id="10_loo7a"]
[ext_resource type="Script" uid="uid://bxwjgtymipxoq" path="res://Script/MainMenu/Screens/MainMenuTextScreenPopupDisplay.cs" id="11_if7li"]
[ext_resource type="FontFile" uid="uid://4tcf8t2hi7n6" path="res://Fonts/Hauser Bold Italic.otf" id="11_rrcx7"]
[ext_resource type="FontFile" uid="uid://djnxc24f5yy5" path="res://Fonts/Hauser Bold.otf" id="13_fh7cp"]

[sub_resource type="PlaneMesh" id="PlaneMesh_ghw46"]
size = Vector2(512, 512)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_df05h"]
albedo_texture = ExtResource("2_8um5k")
uv1_scale = Vector3(32, 32, 32)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_xim88"]
bg_color = Color(0.254902, 0, 0.572549, 0.784314)

[sub_resource type="LabelSettings" id="LabelSettings_xim88"]
font = ExtResource("6_8um5k")
font_size = 56
font_color = Color(1, 0.407843, 1, 1)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_loo7a"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_if7li"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_fh7cp"]
bg_color = Color(0.211765, 0, 0.552941, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rrcx7"]
bg_color = Color(0.733333, 0.172549, 0.403922, 1)

[node name="MainMenu" type="Node3D"]

[node name="Camera3D" parent="." node_paths=PackedStringArray("LookAtTarget", "CameraPositionTarget", "CameraFocusTarget") instance=ExtResource("1_853f1")]
transform = Transform3D(0.999722, -0.00434148, -0.0231937, 0, 0.982928, -0.183988, 0.0235965, 0.183937, 0.982655, 0.0139495, 0.250505, 0.345816)
LookAtTarget = NodePath("../Positioners/Camera Lookat Target")
CameraPositionTarget = NodePath("../Positioners/Title Cam Position")
CameraFocusTarget = NodePath("../Positioners/Title Cam Focus/Title Cam Focus - Wobble")
SnapPositionSpeed = 0.05
FOVNormal = 40.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.899923, 0.18185, -0.39632, 0, 0.908888, 0.41704, 0.43605, -0.375304, 0.817929, -1.11444, 1.63989, 1.18973)

[node name="Scene Composition" type="Node" parent="."]

[node name="Floor" type="MeshInstance3D" parent="Scene Composition"]
mesh = SubResource("PlaneMesh_ghw46")
skeleton = NodePath("../../..")
surface_material_override/0 = SubResource("StandardMaterial3D_df05h")

[node name="CarFrame12" parent="Scene Composition" instance=ExtResource("3_riqfo")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0.702654, 0.246208, 0.514106)

[node name="CarFrame22" parent="Scene Composition" instance=ExtResource("4_yxkem")]
transform = Transform3D(-0.52351, 0, 0.852019, 0, 1, 0, -0.852019, 0, -0.52351, -4.24749, 0.486035, -1.93865)

[node name="CarFrame32" parent="Scene Composition" instance=ExtResource("5_7v4os")]
transform = Transform3D(-0.273221, 0, 0.961951, 0, 1, 0, -0.961951, 0, -0.273221, -4.76605, 0.587532, -3.76857)

[node name="CarFrame42" parent="Scene Composition" instance=ExtResource("6_pjscj")]
transform = Transform3D(-0.845336, 0, 0.534234, 0, 1, 0, -0.534234, 0, -0.845336, -2.88289, 0.383865, -0.357002)

[node name="CarFrame52" parent="Scene Composition" instance=ExtResource("7_m7n2d")]
transform = Transform3D(-0.956666, 0, 0.291186, 0, 1, 0, -0.291186, 0, -0.956666, -0.897436, 0.378327, 0)

[node name="Positioners" type="Node" parent="."]

[node name="Camera Lookat Target" type="Node3D" parent="Positioners"]
transform = Transform3D(0.755877, -0.206637, 0.621249, 0, 0.948888, 0.315614, -0.654713, -0.238565, 0.717243, -0.517186, 0.414904, -1.25588)

[node name="Title Cam Position" type="Node3D" parent="Positioners"]
transform = Transform3D(0.982781, -0.0575514, 0.175582, 0, 0.950256, 0.31147, -0.184773, -0.306107, 0.933894, -0.8, 0.2, 0.4)

[node name="Title Cam Focus" type="Node3D" parent="Positioners"]
transform = Transform3D(-0.520375, 0.0111907, -0.853864, 0.00444148, 0.999936, 0.0103983, 0.853926, 0.00161861, -0.520392, 0.24, 0.4, -2.2)

[node name="Title Cam Focus - Wobble" type="Node3D" parent="Positioners/Title Cam Focus"]
transform = Transform3D(1, 6.98492e-10, -2.98023e-08, 5.82077e-10, 1, 6.40284e-10, 2.98023e-08, 5.82077e-11, 1, 0.00542438, -0.00762185, -0.0184967)
script = ExtResource("4_ghw46")
Range = Vector3(0, 0.25, 0.125)
Duration = 1.0

[node name="Main Cam Position" type="Node3D" parent="Positioners"]
transform = Transform3D(0.0654046, -0.513254, 0.855741, 0, 0.857577, 0.514355, -0.997859, -0.0336412, 0.0560895, 2.50275, 2.48323, -2.57462)

[node name="Main Cam Focus" type="Node3D" parent="Positioners"]
transform = Transform3D(0.895751, 0, 0.444557, 0, 1, 0, -0.444557, 0, 0.895751, -0.46, 0.421, -3.22)

[node name="Main Cam Focus - Wobble" type="Node3D" parent="Positioners/Main Cam Focus"]
transform = Transform3D(1, 6.98492e-10, -2.98023e-08, 5.82077e-10, 1, 6.40284e-10, 2.98023e-08, 5.82077e-11, 1, 0, 0, 0)
script = ExtResource("4_ghw46")
Range = Vector3(0, 0.25, 0)
Duration = 1.0

[node name="MainMenuCameraControl" type="Control" parent="." node_paths=PackedStringArray("GameCamera", "TitlePosition", "TitleFocus", "MenuPosition", "MenuFocus")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("2_koqhg")
GameCamera = NodePath("../Camera3D")
TitlePosition = NodePath("../Positioners/Title Cam Position")
TitleFocus = NodePath("../Positioners/Title Cam Focus/Title Cam Focus - Wobble")
TargetTitleFOV = 40.0
MenuPosition = NodePath("../Positioners/Main Cam Position")
MenuFocus = NodePath("../Positioners/Main Cam Focus/Main Cam Focus - Wobble")
TargetMenuFOV = 45.0

[node name="Main Menu Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("6_cmrfp")

[node name="TitleScreenDisplay" type="Control" parent="Main Menu Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("5_xim88")
ColorPulseA = Color(0.694118, 0.137255, 0.435294, 1)
ColorPulseB = Color(0.862745, 0.32549, 0.294118, 1)
ColorFlashA = Color(0.984314, 0.721569, 0.12549, 1)
ColorFlashB = Color(1, 1, 1, 1)

[node name="VBoxContainer" type="VBoxContainer" parent="Main Menu Control/TitleScreenDisplay"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Control" type="Control" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer"]
custom_minimum_size = Vector2(0, 120)
layout_mode = 2

[node name="TitleBox" type="HBoxContainer" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="Control" type="Control" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer/TitleBox"]
layout_mode = 2
size_flags_horizontal = 3

[node name="TextureRect" type="TextureRect" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer/TitleBox"]
custom_minimum_size = Vector2(0, 250)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource("5_df05h")
expand_mode = 3

[node name="Control2" type="Control" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer/TitleBox"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Control2" type="Control" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer"]
custom_minimum_size = Vector2(0, 21.475)
layout_mode = 2

[node name="LabelBox" type="PanelContainer" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_xim88")

[node name="Padder" type="VBoxContainer" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer/LabelBox"]
layout_mode = 2

[node name="Control4" type="Control" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer/LabelBox/Padder"]
custom_minimum_size = Vector2(0, 20)
layout_mode = 2

[node name="Label" type="Label" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer/LabelBox/Padder"]
layout_mode = 2
text = "[ PRESS SPACE ]"
label_settings = SubResource("LabelSettings_xim88")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Control5" type="Control" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer/LabelBox/Padder"]
custom_minimum_size = Vector2(0, 15)
layout_mode = 2

[node name="Control3" type="Control" parent="Main Menu Control/TitleScreenDisplay/VBoxContainer"]
custom_minimum_size = Vector2(0, 110)
layout_mode = 2

[node name="MainMenuDisplay" type="Control" parent="Main Menu Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("10_loo7a")

[node name="MarginContainer" type="MarginContainer" parent="Main Menu Control/MainMenuDisplay"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -280.0
offset_top = -226.0
grow_horizontal = 0
grow_vertical = 0
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="VBoxContainer" type="VBoxContainer" parent="Main Menu Control/MainMenuDisplay/MarginContainer"]
layout_mode = 2

[node name="HTP" type="Button" parent="Main Menu Control/MainMenuDisplay/MarginContainer/VBoxContainer"]
layout_mode = 2
focus_neighbor_top = NodePath("../C")
focus_previous = NodePath("../C")
theme_override_colors/font_hover_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_focus_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_fonts/font = ExtResource("13_fh7cp")
theme_override_font_sizes/font_size = 36
theme_override_styles/focus = SubResource("StyleBoxEmpty_loo7a")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_if7li")
text = "How to Play"
flat = true
alignment = 2

[node name="TS" type="Button" parent="Main Menu Control/MainMenuDisplay/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_hover_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_focus_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_fonts/font = ExtResource("13_fh7cp")
theme_override_font_sizes/font_size = 36
theme_override_styles/focus = SubResource("StyleBoxEmpty_loo7a")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_if7li")
text = "Track Select"
flat = true
alignment = 2

[node name="BT" type="Button" parent="Main Menu Control/MainMenuDisplay/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_hover_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_focus_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_fonts/font = ExtResource("13_fh7cp")
theme_override_font_sizes/font_size = 36
theme_override_styles/focus = SubResource("StyleBoxEmpty_loo7a")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_if7li")
text = "Best Times"
flat = true
alignment = 2

[node name="O" type="Button" parent="Main Menu Control/MainMenuDisplay/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_hover_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_focus_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_fonts/font = ExtResource("13_fh7cp")
theme_override_font_sizes/font_size = 36
theme_override_styles/focus = SubResource("StyleBoxEmpty_loo7a")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_if7li")
text = "Options"
flat = true
alignment = 2

[node name="C" type="Button" parent="Main Menu Control/MainMenuDisplay/MarginContainer/VBoxContainer"]
layout_mode = 2
focus_neighbor_bottom = NodePath("../HTP")
focus_next = NodePath("../HTP")
theme_override_colors/font_hover_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_focus_color = Color(0.929412, 0.988235, 0.105882, 1)
theme_override_fonts/font = ExtResource("13_fh7cp")
theme_override_font_sizes/font_size = 36
theme_override_styles/focus = SubResource("StyleBoxEmpty_loo7a")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_if7li")
text = "Credits"
flat = true
alignment = 2

[node name="HowToPlayDisplay" type="Control" parent="Main Menu Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("11_if7li")

[node name="MarginContainer" type="MarginContainer" parent="Main Menu Control/HowToPlayDisplay"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 40
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 40

[node name="PanelContainer" type="PanelContainer" parent="Main Menu Control/HowToPlayDisplay/MarginContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_fh7cp")

[node name="CreditsDisplay" type="Control" parent="Main Menu Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("11_if7li")

[node name="MarginContainer" type="MarginContainer" parent="Main Menu Control/CreditsDisplay"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 40
theme_override_constants/margin_top = 40
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 40

[node name="PanelContainer" type="PanelContainer" parent="Main Menu Control/CreditsDisplay/MarginContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_rrcx7")

[node name="MarginContainer" type="MarginContainer" parent="Main Menu Control/CreditsDisplay/MarginContainer/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="VBoxContainer" type="VBoxContainer" parent="Main Menu Control/CreditsDisplay/MarginContainer/PanelContainer/MarginContainer"]
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="Main Menu Control/CreditsDisplay/MarginContainer/PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 100
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 100
theme_override_constants/margin_bottom = 0

[node name="TextureRect" type="TextureRect" parent="Main Menu Control/CreditsDisplay/MarginContainer/PanelContainer/MarginContainer/VBoxContainer/MarginContainer"]
custom_minimum_size = Vector2(0, 250)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource("5_df05h")
expand_mode = 3

[node name="RichTextLabel" type="RichTextLabel" parent="Main Menu Control/CreditsDisplay/MarginContainer/PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_fonts/normal_font = ExtResource("13_fh7cp")
theme_override_fonts/bold_font = ExtResource("11_rrcx7")
theme_override_font_sizes/normal_font_size = 20
theme_override_font_sizes/bold_font_size = 28
bbcode_enabled = true
text = "[center][b]Lightspeed Loop[/b]
A GMTK Jam 2025 Entry

[b]Developed by[/b]
Evyanon, NiftyHat, kaynSD, c1k, TommyNom
[/center]"
fit_content = true
scroll_active = false

[node name="Control" type="Control" parent="Main Menu Control/CreditsDisplay/MarginContainer/PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 5.0

[node name="RichTextLabel2" type="RichTextLabel" parent="Main Menu Control/CreditsDisplay/MarginContainer/PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_fonts/normal_font = ExtResource("13_fh7cp")
theme_override_font_sizes/normal_font_size = 20
theme_override_font_sizes/bold_font_size = 28
bbcode_enabled = true
text = "[center]Press [ESC] to return to the menu[/center]"
fit_content = true

[connection signal="FadeInAnimationStarted" from="Main Menu Control/TitleScreenDisplay" to="MainMenuCameraControl" method="ChangeCameraToTitle"]
[connection signal="FadeOutAnimationComplete" from="Main Menu Control/TitleScreenDisplay" to="Main Menu Control" method="ShowMenuScreen"]
[connection signal="FadeOutAnimationFading" from="Main Menu Control/TitleScreenDisplay" to="MainMenuCameraControl" method="ChangeCameraToMenu"]
[connection signal="Cancel" from="Main Menu Control/MainMenuDisplay" to="Main Menu Control" method="ShowTitleScreen"]
[connection signal="pressed" from="Main Menu Control/MainMenuDisplay/MarginContainer/VBoxContainer/HTP" to="Main Menu Control" method="ShowHowToPlay"]
[connection signal="pressed" from="Main Menu Control/MainMenuDisplay/MarginContainer/VBoxContainer/TS" to="Main Menu Control" method="ShowTrackSelect"]
[connection signal="pressed" from="Main Menu Control/MainMenuDisplay/MarginContainer/VBoxContainer/C" to="Main Menu Control" method="ShowCredits"]
[connection signal="Cancel" from="Main Menu Control/HowToPlayDisplay" to="Main Menu Control" method="ReturnToMainMenu"]
[connection signal="Cancel" from="Main Menu Control/CreditsDisplay" to="Main Menu Control" method="ReturnToMainMenu"]
